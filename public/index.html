<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Devil Fruit Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #050816;
      color: #f5f5f5;
      margin: 0;
      padding: 20px;
    }

    h1, h2, h3 {
      margin-top: 0;
    }

    .app-container {
      max-width: 1100px;
      margin: 0 auto;
      background: #111827;
      border-radius: 12px;
      padding: 20px 24px 32px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
    }

    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    .col {
      flex: 1 1 260px;
      min-width: 260px;
    }

    label {
      font-size: 0.85rem;
      font-weight: 600;
      display: block;
      margin-bottom: 4px;
      color: #93c5fd;
    }

    select, input[type="text"], textarea {
      width: 100%;
      box-sizing: border-box;
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #4b5563;
      background: #020617;
      color: #f9fafb;
      font-size: 0.9rem;
    }

    textarea {
      min-height: 60px;
      resize: vertical;
    }

    .section-card {
      border-radius: 10px;
      padding: 10px 12px 14px;
      background: #020617;
      border: 1px solid #1f2933;
      margin-bottom: 12px;
    }

    .section-title {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 6px;
      color: #a5b4fc;
    }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
      margin-bottom: 4px;
    }

    .tag-row label {
      font-weight: 500;
      color: #e5e7eb;
    }

    .tag-row input[type="checkbox"] {
      margin-right: 4px;
    }

    .control-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }

    .control-row > div {
      flex: 1 1 180px;
      min-width: 180px;
    }

    button {
      cursor: pointer;
      border-radius: 8px;
      padding: 8px 14px;
      border: none;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .btn-primary {
      background: #2563eb;
      color: #f9fafb;
    }

    .btn-secondary {
      background: #111827;
      color: #e5e7eb;
      border: 1px solid #4b5563;
    }

    .small-note {
      font-size: 0.75rem;
      color: #9ca3af;
      margin-top: 2px;
    }

    .complexity-pill {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      background: #0f172a;
      font-size: 0.75rem;
      color: #e5e7eb;
      border: 1px solid #4b5563;
      margin-left: 4px;
    }

    .hidden {
      display: none !important;
    }

    hr {
      border: none;
      border-top: 1px solid #1f2937;
      margin: 16px 0;
    }
  </style>
</head>
<body>
<div class="app-container">
  <h1>Devil Fruit Generator</h1>
  <p style="font-size:0.9rem;color:#e5e7eb;margin-bottom:14px;">
    Configure your <strong>Devil Fruit</strong> concepts and generator settings. Choose a complexity level,
    fill in the boxes, or hit <strong>Random</strong> to auto-fill many fields (including over 100 Theme/Vibe/Devil Fruit options).
  </p>

  <!-- Global Controls -->
  <div class="control-row">
    <div>
      <label for="complexity">Complexity Level</label>
      <select id="complexity">
        <option value="basic">Basic ‚Äì Fast setup</option>
        <option value="moderate">Moderate ‚Äì More control</option>
        <option value="complex">Complex ‚Äì Full control</option>
      </select>
      <div class="small-note" id="complexity-description">
        Basic: Pick effect type, Devil Fruit type, number of abilities, and power level.
      </div>
    </div>

    <div>
      <label for="mechanicsDetail">Mechanics Detail Level</label>
      <select id="mechanicsDetail">
        <option value="simple">Simple</option>
        <option value="moderate" selected>Moderate</option>
        <option value="complex">Deep / Crunchy</option>
      </select>
    </div>

    <div>
      <label for="outputStyle">Output Style</label>
      <select id="outputStyle">
        <option value="cinematic" selected>Cinematic description</option>
        <option value="bullets">Bullet list (GM notes)</option>
        <option value="statblock">Stat-block style</option>
      </select>
    </div>

    <div style="flex:0 0 auto;display:flex;gap:8px;">
      <button class="btn-secondary" id="randomBtn">Randomize</button>
      <button class="btn-primary" id="clearBtn">Clear</button>
    </div>
  </div>

  <hr>

  <!-- Character Context -->
  <h2>Character Context</h2>
  <div class="row">
    <div class="col">
      <div class="section-card">
        <div class="section-title">Quick Context</div>
        <label for="characterRole">Who is this character?</label>
        <input id="characterRole" type="text" placeholder="Example: Elren, cyborg Firbolg artificer leading Wano's revolt">
        <label for="characterGoal" style="margin-top:6px;">Overall goal in this scene / arc</label>
        <input id="characterGoal" type="text" placeholder="Example: Rally Wano, forge the world-tree of souls, defeat Kaido">
      </div>
    </div>
    <div class="col">
      <div class="section-card">
        <div class="section-title">Theme / Vibe / Devil Fruit</div>
        <label for="themeVibe">Theme / Vibe / Devil Fruit</label>
        <input id="themeVibe" type="text" placeholder="Example: Storm-touched soul weaver, mechanical nature god">
        <button class="btn-secondary" style="margin-top:6px;" id="randomThemeBtn">
          üé≤ Random Theme / Vibe / Devil Fruit
        </button>
        <div class="small-note">
          Uses a pool of 100+ curated Devil Fruit themes when you hit the random button.
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!-- Generator Inputs -->
  <h2>Generator Inputs</h2>
  <div class="row">
    <div class="col">
      <div class="section-card">
        <div class="section-title">
          Core Fruit Settings
          <span class="complexity-pill">Basic+</span>
        </div>

        <label for="effectType">Effect Type</label>
        <select id="effectType">
          <option value="">-- Choose --</option>
          <option value="logia">Logia (elemental)</option>
          <option value="paramecia">Paramecia (reality / body / odd)</option>
          <option value="zoan">Zoan (beast)</option>
          <option value="mythical">Mythical Zoan</option>
          <option value="ancient">Ancient Zoan</option>
          <option value="special">Special / Hybrid</option>
        </select>

        <label for="devilFruitType" style="margin-top:6px;">Devil Fruit Type (user-facing)</label>
        <input id="devilFruitType" type="text" placeholder="Example: Soul-Soul Fruit, Model: World-Tree">

        <label for="numAbilities" style="margin-top:6px;">Number of Abilities</label>
        <select id="numAbilities">
          <option value="1">1</option>
          <option value="2" selected>2</option>
          <option value="3">3</option>
          <option value="4">4</option>
        </select>

        <label for="powerLevel" style="margin-top:6px;">Power Level</label>
        <select id="powerLevel">
          <option value="low">Low</option>
          <option value="mid">Mid</option>
          <option value="high" selected>High</option>
          <option value="broken">Broken / Endgame</option>
        </select>
      </div>
    </div>

    <div class="col">
      <div class="section-card basic-only">
        <div class="section-title">
          Desired Outcome
          <span class="complexity-pill">Basic+</span>
        </div>
        <div class="tag-row" id="desiredOutcome">
          <label><input type="checkbox" value="utility"> Utility / Versatility</label>
          <label><input type="checkbox" value="mobility"> Mobility / Positioning</label>
          <label><input type="checkbox" value="defense"> Defense / Tanking</label>
          <label><input type="checkbox" value="control"> Crowd Control</label>
          <label><input type="checkbox" value="support"> Support / Healing</label>
          <label><input type="checkbox" value="debuff"> Debuff / Disruption</label>
          <label><input type="checkbox" value="highDamage"> High Damage / Burst</label>
        </div>
        <div class="small-note">
          NEW: ‚ÄúHigh Damage / Burst‚Äù added to the Desired Outcomes.
        </div>
      </div>

      <div class="section-card moderate-only complex-only">
        <div class="section-title">
          Combo Focus (multi-select)
          <span class="complexity-pill">Moderate+</span>
        </div>
        <div class="tag-row" id="comboFocus">
          <label><input type="checkbox" value="melee"> Melee combos</label>
          <label><input type="checkbox" value="ranged"> Ranged barrages</label>
          <label><input type="checkbox" value="area"> Area denial / zones</label>
          <label><input type="checkbox" value="setups"> Setup into finishers</label>
          <label><input type="checkbox" value="defensive"> Defensive counter-play</label>
          <label><input type="checkbox" value="mobility"> Movement & reposition</label>
          <label><input type="checkbox" value="team"> Team synergies</label>
          <label><input type="checkbox" value="utility"> Utility chains</label>
        </div>
        <div class="small-note">
          You can now select <strong>multiple</strong> combo focuses at once via checkboxes.
        </div>
      </div>
    </div>
  </div>

  <!-- Advanced Options (Moderate / Complex only, but comments are always visible) -->
  <div id="advancedOptions" class="moderate-only complex-only">
    <hr>
    <h2>Advanced Inputs (Moderate / Complex)</h2>
    <div class="row">
      <div class="col">
        <div class="section-card moderate-only complex-only">
          <div class="section-title">
            Secondary Constraints
            <span class="complexity-pill">Moderate+</span>
          </div>
          <label for="limitations">Limitations / Costs</label>
          <textarea id="limitations" placeholder="Example: Fruit drains soul fragments, overuse petrifies body into wood, etc."></textarea>

          <label for="signatureVisuals" style="margin-top:6px;">Signature Visual Motifs</label>
          <textarea id="signatureVisuals" placeholder="Example: Red-black lightning, auroras of soul-orbs, mechanical roots and branches."></textarea>
        </div>
      </div>

      <div class="col">
        <div class="section-card complex-only">
          <div class="section-title">
            Complex Tuning
            <span class="complexity-pill">Complex Only</span>
          </div>
          <label for="rulesHooks">Specific Rules Hooks / System Notes</label>
          <textarea id="rulesHooks" placeholder="Example: Once per long rest limit, stacking conditions, hit dice costs, etc."></textarea>
          <label for="inspirationSources" style="margin-top:6px;">Extra Inspiration Sources</label>
          <textarea id="inspirationSources" placeholder="Other series, characters, or mechanics to mimic."></textarea>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!-- Boxes A, B, C, D (comments always visible, even on BASIC) -->
  <h2>Ability Boxes (A‚ÄìD)</h2>
  <p class="small-note">
    Each box is a potential ability or combo. <strong>Comment boxes always stay visible</strong>, even on Basic mode.
  </p>

  <div class="row">
    <!-- Box A -->
    <div class="col">
      <div class="section-card">
        <div class="section-title">Box A ‚Äì Core / Signature Move</div>
        <label for="boxA-main">Concept / Name</label>
        <input id="boxA-main" type="text" placeholder="Example: Soulstorm Cataclysm">
        <label for="boxA-notes" style="margin-top:6px;">Notes / Constraints (A)</label>
        <textarea id="boxA-notes" placeholder="Comment box A ‚Äì how this should feel, limits, cinematic beats."></textarea>
      </div>
    </div>

    <!-- Box B -->
    <div class="col">
      <div class="section-card">
        <div class="section-title">Box B ‚Äì Secondary / Utility</div>
        <label for="boxB-main">Concept / Name</label>
        <input id="boxB-main" type="text" placeholder="Example: Wano‚Äôs Rooted Bulwark">
        <label for="boxB-notes" style="margin-top:6px;">Notes / Constraints (B)</label>
        <textarea id="boxB-notes" placeholder="Comment box B ‚Äì defenses, shields, area control, etc."></textarea>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Box C -->
    <div class="col">
      <div class="section-card">
        <div class="section-title">Box C ‚Äì Support / Control</div>
        <label for="boxC-main">Concept / Name</label>
        <input id="boxC-main" type="text" placeholder="Example: Soul Orchard Sanctuary">
        <label for="boxC-notes" style="margin-top:6px;">Notes / Constraints (C)</label>
        <textarea id="boxC-notes" placeholder="Comment box C ‚Äì healing, buffs, crowd control, etc."></textarea>
      </div>
    </div>

    <!-- Box D -->
    <div class="col">
      <div class="section-card">
        <div class="section-title">Box D ‚Äì Finisher / High-Risk</div>
        <label for="boxD-main">Concept / Name</label>
        <input id="boxD-main" type="text" placeholder="Example: World-Tree Judgement">
        <label for="boxD-notes" style="margin-top:6px;">Notes / Constraints (D)</label>
        <textarea id="boxD-notes" placeholder="Comment box D ‚Äì high risk, high reward, burst damage, etc."></textarea>
      </div>
    </div>
  </div>

</div>

<script>
  // --- THEME / VIBE / DEVIL FRUIT RANDOM POOL (100+ options) ---
  const themePool = [
    "Storm-Wreathed Soul Tree Logia",
    "Gravity-Bending Orchard Paramecia",
    "Mechanical World-Tree Mythical Zoan",
    "Clockwork Time-Sap Fruit",
    "Blood-Tide Sandstorm Logia",
    "Celestial Forge Flame Fruit",
    "Abyssal Tide Leviathan Zoan",
    "Quantum Rift Space Fruit",
    "Dream-Thread Marionette Fruit",
    "Bone-Garden Necrotic Zoan",
    "Eclipse-Shadow Phantom Logia",
    "Aurora Pulse Light Paramecia",
    "Obsidian Thorn Dragon Zoan",
    "Ink-Sea Reality Rewriter",
    "Ironwood Titan Golem Fruit",
    "Mirror-Shard Reflection Fruit",
    "Soul-Lantern Reaping Fruit",
    "Chain-Storm Gravity Paramecia",
    "Thunder-Bloom Storm Paramecia",
    "Blood-Root Parasite Plant Zoan",
    "Starforge Meteor Logia",
    "Rust-Eater Corrosion Fruit",
    "Severed-Space Guillotine Fruit",
    "Machina Seraph Cybernetic Zoan",
    "Glass-World Fracture Paramecia",
    "Siren-Tide Voice Logia",
    "Loom-of-Fates Thread Paramecia",
    "Lotus-of-Deaths Rebirth Fruit",
    "Cardinal Wind Phoenix Zoan",
    "Demon-Forged Flame Oni Fruit",
    "Oblivion Dust Decay Logia",
    "Circuit-Vine Cyber Nature Fruit",
    "Spectral Chain Prison Fruit",
    "Star-Root Navigator Fruit",
    "Forest-of-Blades Thorn Fruit",
    "Clocktower Heartbeat Fruit",
    "Solar Flare Dragon Logia",
    "Moonlit Mirage Illusion Fruit",
    "Warp-Pocket Spacefold Fruit",
    "Cataclysm Quake-Storm Hybrid",
    "Iron-Sand Blood Desert Logia",
    "Worldsong Echo Paramecia",
    "Soul-Forge Blacksmith Fruit",
    "Living Arsenal Weapon Zoan",
    "Siege Engine Colossus Zoan",
    "Kingmaker Conqueror‚Äôs Crown Fruit",
    "Rune-Bloom Glyph Fruit",
    "Plague Garden Toxic Flora Fruit",
    "Tidal Rift Abyss Fruit",
    "Chimeric Beast Library Zoan",
    "Time-Spiral Vortex Fruit",
    "Soul-Anchor Gravewarden Fruit",
    "Voltage Serpent Thunder Zoan",
    "Venom Orchid Poison Fruit",
    "Crystal Spine Dragon Zoan",
    "Astral Chain Warden Fruit",
    "Sandstorm Glass Reaver Fruit",
    "Sky-Sunder Lightning Logia",
    "Seismic Root Earthquake Fruit",
    "Blood-Contract Pact Fruit",
    "Living Shadow Armory Fruit",
    "Iron Halo Gravity Knight Fruit",
    "Chaos Bloom Entropy Fruit",
    "Starvine Navigator Mythical Zoan",
    "Sky-Tyrant Tempest Zoan",
    "Frostbrand Winter Wolf Zoan",
    "Solar Thorn Sunfire Fruit",
    "Black Hole Core Gravity Logia",
    "Reality Stitcher Seam Fruit",
    "Soul Carnival Masked Fruit",
    "Mirage Highway Illusion Fruit",
    "Thunder Orchard Storm Tree Fruit",
    "Sands-of-Fate Hourglass Fruit",
    "Rune-Shell Fortress Turtle Zoan",
    "Meteor Swarm Comet Fruit",
    "Dragonforge Volcano Fruit",
    "Neon Circuit Runner Fruit",
    "World-Anchor Colossal Tree Fruit",
    "Blood Moon Eclipse Fruit",
    "Scarab Sun-Guard Beetle Zoan",
    "Feral Storm Wind Beast Zoan",
    "Dimensional Lantern Gate Fruit",
    "Shard-Rain Crystal Logia",
    "Leviathan Spine Ocean Fruit",
    "Tyrant-King Titan Zoan",
    "Obsidian Mirage Blade Fruit",
    "Carnivorous Orchard Predator Fruit",
    "Soul-Archive Librarian Fruit",
    "Aurora Chain Polar Light Fruit",
    "Starfall Executioner Fruit",
    "Iron-Bloom Battlefield Flower Fruit",
    "Reactor Core Plasma Fruit",
    "Voidroot Cosmic Tree Mythical Zoan",
    "Gunmetal Hydra Weapon Zoan",
    "Chronicle Page Story-Weaver Fruit",
    "Specter Bloom Wraith Fruit",
    "Thunder-Rail Storm Engine Fruit",
    "Aether Crown Sky Ruler Fruit",
    "Sea-of-Blades Water Logia",
    "Venom Gear Alchemical Fruit",
    "Titan Bark Colossus Tree Fruit",
    "Solar Sail Tempest Fruit",
    "Astral Orchid Cosmic Plant Fruit",
    "Living Arsenal Gunslinger Fruit",
    "Chain-World Prison Warder Fruit",
    "Crystal Bloom Healing Fruit",
    "World-Tree of Wano Soul Fruit",
    "Mechanical Druid Cyborg Nature Fruit",
    "Red-Lightning Conqueror‚Äôs Storm Fruit",
    "Spirit Orchard Reincarnation Fruit",
    "Eternal Wano Guardian Tree Fruit"
  ];

  // --- DOM ELEMENTS ---
  const complexitySelect = document.getElementById('complexity');
  const complexityDescription = document.getElementById('complexity-description');
  const themeVibeInput = document.getElementById('themeVibe');
  const randomThemeBtn = document.getElementById('randomThemeBtn');
  const randomBtn = document.getElementById('randomBtn');
  const clearBtn = document.getElementById('clearBtn');

  const effectType = document.getElementById('effectType');
  const devilFruitType = document.getElementById('devilFruitType');
  const numAbilities = document.getElementById('numAbilities');
  const powerLevel = document.getElementById('powerLevel');
  const desiredOutcomeContainer = document.getElementById('desiredOutcome');
  const comboFocusContainer = document.getElementById('comboFocus');

  // Helper to toggle sections based on complexity
  function applyComplexity(level) {
    const basicOnly = document.querySelectorAll('.basic-only');
    const moderateOnly = document.querySelectorAll('.moderate-only');
    const complexOnly = document.querySelectorAll('.complex-only');

    if (level === 'basic') {
      basicOnly.forEach(el => el.classList.remove('hidden'));
      moderateOnly.forEach(el => el.classList.add('hidden'));
      complexOnly.forEach(el => el.classList.add('hidden'));
      complexityDescription.textContent =
        "Basic: Pick effect type, Devil Fruit type, number of abilities, and power level. Desired Outcome + comment boxes A‚ÄìD still visible.";
    } else if (level === 'moderate') {
      basicOnly.forEach(el => el.classList.remove('hidden'));
      moderateOnly.forEach(el => el.classList.remove('hidden'));
      complexOnly.forEach(el => el.classList.add('hidden'));
      complexityDescription.textContent =
        "Moderate: Adds combo focus (multi-select), limitations, and signature visuals, plus everything from Basic.";
    } else {
      // complex
      basicOnly.forEach(el => el.classList.remove('hidden'));
      moderateOnly.forEach(el => el.classList.remove('hidden'));
      complexOnly.forEach(el => el.classList.remove('hidden'));
      complexityDescription.textContent =
        "Complex: Full access ‚Äì all boxes, combo focus multi-select, costs, visuals, rules hooks, and more.";
    }
  }

  complexitySelect.addEventListener('change', () => {
    applyComplexity(complexitySelect.value);
  });

  // Initial state
  applyComplexity(complexitySelect.value);

  // --- RANDOM THEME / VIBE / DEVIL FRUIT ---
  function randomFromArray(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function randomizeThemeOnly() {
    themeVibeInput.value = randomFromArray(themePool);
  }

  randomThemeBtn.addEventListener('click', randomizeThemeOnly);

  // --- RANDOMIZE MANY FIELDS ---
  function randomizeGenerator() {
    // Effect type
    const effectOptions = ["logia", "paramecia", "zoan", "mythical", "ancient", "special"];
    effectType.value = randomFromArray(effectOptions);

    // Fruit type string ‚Äì lightly themed to effect type
    const suffixMap = {
      logia: "Logia",
      paramecia: "Paramecia",
      zoan: "Zoan",
      mythical: "Mythical Zoan",
      ancient: "Ancient Zoan",
      special: "Special Paramecia"
    };
    devilFruitType.value = randomFromArray([
      "Soul-Soul Fruit, Model: World-Tree",
      "Sand-Sand Fruit, Model: Blood Desert",
      "Storm-Storm Fruit, Model: Red Lightning",
      "Gravity-Gravity Fruit, Model: Black Star",
      "Bloom-Bloom Fruit, Model: Spirit Orchard",
      "Machine-Machine Fruit, Model: Forest Titan",
      "Flame-Flame Fruit, Model: Sun Reactor"
    ]) + " (" + suffixMap[effectType.value] + ")";

    // Number of abilities
    numAbilities.value = randomFromArray(["1","2","3","4"]);

    // Power level (bias slightly toward high / broken)
    powerLevel.value = randomFromArray(["mid","high","high","broken"]);

    // Desired outcome ‚Äì random subset including maybe High Damage
    const allDesired = Array.from(desiredOutcomeContainer.querySelectorAll('input[type="checkbox"]'));
    allDesired.forEach(cb => cb.checked = false);
    const numDesired = 2 + Math.floor(Math.random() * 3); // 2‚Äì4 tags
    for (let i = 0; i < numDesired; i++) {
      const cb = randomFromArray(allDesired);
      cb.checked = true;
    }

    // Combo focus multi-select (checkboxes)
    if (comboFocusContainer) {
      const allCombo = Array.from(comboFocusContainer.querySelectorAll('input[type="checkbox"]'));
      allCombo.forEach(cb => cb.checked = false);
      const numCombo = 1 + Math.floor(Math.random() * 4); // 1‚Äì4 focuses
      for (let i = 0; i < numCombo; i++) {
        const cb = randomFromArray(allCombo);
        cb.checked = true;
      }
    }

    // Theme / Vibe / Devil Fruit (critical requirement)
    randomizeThemeOnly();
  }

  randomBtn.addEventListener('click', randomizeGenerator);

  // --- CLEAR FORM ---
  function clearAll() {
    const inputs = document.querySelectorAll('input[type="text"], textarea');
    inputs.forEach(el => el.value = '');

    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(cb => cb.checked = false);

    effectType.value = "";
    devilFruitType.value = "";
    numAbilities.value = "2";
    powerLevel.value = "high";

    // keep complexity as-is, just ensure correct visibility
    applyComplexity(complexitySelect.value);
  }

  clearBtn.addEventListener('click', clearAll);
</script>
</body>
</html>
